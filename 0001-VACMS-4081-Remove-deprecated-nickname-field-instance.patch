From 16037708615e0fc64e5a036190bdf152a10a711e Mon Sep 17 00:00:00 2001
From: Ethan Teague <metrowebz@gmail.com>
Date: Tue, 26 Jan 2021 12:21:25 -0500
Subject: [PATCH] VACMS-4081: Remove deprecated nickname field instances.
 (#15791)

---
 src/site/filters/liquid.js                        |  6 ------
 .../build/drupal/graphql/bioPage.graphql.js       |  1 -
 .../drupal/graphql/eventListingPage.graphql.js    |  5 ++---
 .../healthCareLocalFacility.node.graphql.js       |  4 +---
 ...healthCareRegionHealthServices.node.graphql.js |  1 -
 .../healthCareLocalFacilityPage.graphql.js        |  2 --
 .../healthCareLocalFacilityPage.old.graphql.js    |  1 -
 .../graphql/healthCareRegionDetailPage.graphql.js |  1 -
 .../graphql/healthCareRegionPage.graphql.js       |  1 -
 .../graphql/healthServicesListingPage.graphql.js  |  2 --
 .../graphql/leadershipListingPage.graphql.js      |  1 -
 .../graphql/locationsListingPage.graphql.js       |  1 -
 .../graphql/pressReleasesListingPage.graphql.js   |  1 -
 .../drupal/graphql/storyListingPage.graphql.js    |  1 -
 .../graphql-cms-export-differences/node.md        |  3 ---
 .../input/node-health_care_local_facility.js      |  2 --
 .../schemas/input/node-health_care_region_page.js |  2 --
 .../output/node-health_care_local_facility.js     |  2 --
 .../node-health_care_local_health_service.js      |  1 -
 .../output/node-health_care_region_page.js        |  3 ---
 .../node-regional_health_care_service_des.js      |  1 -
 .../node-health_care_local_facility.js            |  4 ----
 .../node-health_care_local_health_service.js      | 11 +----------
 .../transformers/node-health_care_region_page.js  | 15 ---------------
 .../node-regional_health_care_service_des.js      |  3 ---
 25 files changed, 4 insertions(+), 71 deletions(-)

diff --git a/src/site/filters/liquid.js b/src/site/filters/liquid.js
index 3cc2227d21..49f12db40b 100644
--- a/src/site/filters/liquid.js
+++ b/src/site/filters/liquid.js
@@ -264,11 +264,6 @@ module.exports = function registerFilters() {
     return output;
   };
 
-  liquid.filters.locationUrlConvention = facility =>
-    facility.fieldNicknameForThisFacility
-      ? facility.fieldNicknameForThisFacility.replace(/\s+/g, '-').toLowerCase()
-      : facility.fieldFacilityLocatorApiId;
-
   liquid.filters.hashReference = str =>
     str
       .toLowerCase()
@@ -290,7 +285,6 @@ module.exports = function registerFilters() {
 
       facilityList[id] = f.fieldMedia ? f.fieldMedia.entity.image : {};
       facilityList[id].entityUrl = f.entityUrl;
-      facilityList[id].nickname = f.fieldNicknameForThisFacility;
     });
     return JSON.stringify(facilityList);
   };
diff --git a/src/site/stages/build/drupal/graphql/bioPage.graphql.js b/src/site/stages/build/drupal/graphql/bioPage.graphql.js
index c67e19878a..02918cfa9e 100644
--- a/src/site/stages/build/drupal/graphql/bioPage.graphql.js
+++ b/src/site/stages/build/drupal/graphql/bioPage.graphql.js
@@ -20,7 +20,6 @@ module.exports = `
         entityType
         ...on NodeHealthCareRegionPage {
           ${entityElementsFromPages}
-          fieldNicknameForThisFacility
           title
         }
       }
diff --git a/src/site/stages/build/drupal/graphql/eventListingPage.graphql.js b/src/site/stages/build/drupal/graphql/eventListingPage.graphql.js
index 0a610e43e9..00b3ad1012 100644
--- a/src/site/stages/build/drupal/graphql/eventListingPage.graphql.js
+++ b/src/site/stages/build/drupal/graphql/eventListingPage.graphql.js
@@ -34,7 +34,7 @@ module.exports = `
                 endValue
                 endTime
                 timezone
-              }              
+              }
               fieldDate {
                 startDate
                 value
@@ -77,7 +77,7 @@ module.exports = `
               endValue
               endTime
               timezone
-            }            
+            }
             fieldDate {
               startDate
               value
@@ -103,7 +103,6 @@ module.exports = `
         ...on NodeHealthCareRegionPage {
           entityLabel
           title
-          fieldNicknameForThisFacility
         }
       }
     }
diff --git a/src/site/stages/build/drupal/graphql/facilities-fragments/healthCareLocalFacility.node.graphql.js b/src/site/stages/build/drupal/graphql/facilities-fragments/healthCareLocalFacility.node.graphql.js
index 5fd50f19f6..8827bed136 100644
--- a/src/site/stages/build/drupal/graphql/facilities-fragments/healthCareLocalFacility.node.graphql.js
+++ b/src/site/stages/build/drupal/graphql/facilities-fragments/healthCareLocalFacility.node.graphql.js
@@ -24,7 +24,6 @@ const FACILITIES_RESULTS = `
       changed
       fieldOperatingStatusFacility
       fieldFacilityLocatorApiId
-      fieldNicknameForThisFacility
       fieldIntroText
       fieldLocationServices {
         entity {
@@ -73,8 +72,7 @@ function queryFilter(isMainLocation) {
   return `
     filter: {conditions: [{field: "status", value: "1", operator: EQUAL, enabled: $onlyPublishedContent}, {field: "field_main_location", value: "${
       isMainLocation ? '1' : '0'
-    }", operator: EQUAL}]}, sort: {field: "field_nickname_for_this_facility", direction: ASC}
-  `;
+    }", operator: EQUAL}]}`;
 }
 
 module.exports = `
diff --git a/src/site/stages/build/drupal/graphql/facilities-fragments/healthCareRegionHealthServices.node.graphql.js b/src/site/stages/build/drupal/graphql/facilities-fragments/healthCareRegionHealthServices.node.graphql.js
index 1b604e82d4..bd193ca4c2 100644
--- a/src/site/stages/build/drupal/graphql/facilities-fragments/healthCareRegionHealthServices.node.graphql.js
+++ b/src/site/stages/build/drupal/graphql/facilities-fragments/healthCareRegionHealthServices.node.graphql.js
@@ -28,7 +28,6 @@ const HEALTH_SERVICES_RESULTS = `
                       path
                     }
                   }
-                  fieldNicknameForThisFacility
                   title
                 }
               }
diff --git a/src/site/stages/build/drupal/graphql/healthCareLocalFacilityPage.graphql.js b/src/site/stages/build/drupal/graphql/healthCareLocalFacilityPage.graphql.js
index d4ef22bd0c..e22bcc6d92 100644
--- a/src/site/stages/build/drupal/graphql/healthCareLocalFacilityPage.graphql.js
+++ b/src/site/stages/build/drupal/graphql/healthCareLocalFacilityPage.graphql.js
@@ -8,7 +8,6 @@ module.exports = `
     ${entityElementsFromPages}
     changed
     fieldFacilityLocatorApiId
-    fieldNicknameForThisFacility
     title
     fieldIntroText
     fieldOperatingStatusFacility
@@ -58,7 +57,6 @@ module.exports = `
           entityId
           entityPublished
           title
-          fieldNicknameForThisFacility
           fieldRelatedLinks {
             entity {
               ... listOfLinkTeasers
diff --git a/src/site/stages/build/drupal/graphql/healthCareLocalFacilityPage.old.graphql.js b/src/site/stages/build/drupal/graphql/healthCareLocalFacilityPage.old.graphql.js
index 183629d913..62300be727 100644
--- a/src/site/stages/build/drupal/graphql/healthCareLocalFacilityPage.old.graphql.js
+++ b/src/site/stages/build/drupal/graphql/healthCareLocalFacilityPage.old.graphql.js
@@ -5,7 +5,6 @@ module.exports = `
     ${entityElementsFromPages}
     changed
     fieldFacilityLocatorApiId
-    fieldNicknameForThisFacility
     title
     fieldIntroText
     fieldLocationServices {
diff --git a/src/site/stages/build/drupal/graphql/healthCareRegionDetailPage.graphql.js b/src/site/stages/build/drupal/graphql/healthCareRegionDetailPage.graphql.js
index cfe1117248..e9f2fb02c2 100644
--- a/src/site/stages/build/drupal/graphql/healthCareRegionDetailPage.graphql.js
+++ b/src/site/stages/build/drupal/graphql/healthCareRegionDetailPage.graphql.js
@@ -65,7 +65,6 @@ module.exports = `
         ...on NodeHealthCareRegionPage {
           entityLabel
           title
-          fieldNicknameForThisFacility
         }
       }
     }
diff --git a/src/site/stages/build/drupal/graphql/healthCareRegionPage.graphql.js b/src/site/stages/build/drupal/graphql/healthCareRegionPage.graphql.js
index 0a8146b026..238acb12e7 100644
--- a/src/site/stages/build/drupal/graphql/healthCareRegionPage.graphql.js
+++ b/src/site/stages/build/drupal/graphql/healthCareRegionPage.graphql.js
@@ -13,7 +13,6 @@ module.exports = `
     ${entityElementsFromPages}
     ${healthCareRegionNewsStories}
     ${healthCareRegionEvents}
-    fieldNicknameForThisFacility
     title
     fieldMedia {
       entity {
diff --git a/src/site/stages/build/drupal/graphql/healthServicesListingPage.graphql.js b/src/site/stages/build/drupal/graphql/healthServicesListingPage.graphql.js
index 0205771077..136c5ad543 100644
--- a/src/site/stages/build/drupal/graphql/healthServicesListingPage.graphql.js
+++ b/src/site/stages/build/drupal/graphql/healthServicesListingPage.graphql.js
@@ -64,7 +64,6 @@ module.exports = `
                               path
                             }
                           }
-                          fieldNicknameForThisFacility
                           title
                         }
                       }
@@ -106,7 +105,6 @@ module.exports = `
         ... on NodeHealthCareRegionPage {
           entityLabel
           title
-          fieldNicknameForThisFacility
         }
       }
     }
diff --git a/src/site/stages/build/drupal/graphql/leadershipListingPage.graphql.js b/src/site/stages/build/drupal/graphql/leadershipListingPage.graphql.js
index 2f44a7d54d..b7f0138090 100644
--- a/src/site/stages/build/drupal/graphql/leadershipListingPage.graphql.js
+++ b/src/site/stages/build/drupal/graphql/leadershipListingPage.graphql.js
@@ -110,7 +110,6 @@ module.exports = `
         ... on NodeHealthCareRegionPage {
           entityLabel
           title
-          fieldNicknameForThisFacility
         }
       }
     }
diff --git a/src/site/stages/build/drupal/graphql/locationsListingPage.graphql.js b/src/site/stages/build/drupal/graphql/locationsListingPage.graphql.js
index a3fd66d999..1c762baaf3 100644
--- a/src/site/stages/build/drupal/graphql/locationsListingPage.graphql.js
+++ b/src/site/stages/build/drupal/graphql/locationsListingPage.graphql.js
@@ -21,7 +21,6 @@ module.exports = `
           fieldOtherVaLocations
           entityLabel
           title
-          fieldNicknameForThisFacility
         }
       }
     }
diff --git a/src/site/stages/build/drupal/graphql/pressReleasesListingPage.graphql.js b/src/site/stages/build/drupal/graphql/pressReleasesListingPage.graphql.js
index a62d83b84b..be28de4853 100644
--- a/src/site/stages/build/drupal/graphql/pressReleasesListingPage.graphql.js
+++ b/src/site/stages/build/drupal/graphql/pressReleasesListingPage.graphql.js
@@ -40,7 +40,6 @@ module.exports = `
         ... on NodeHealthCareRegionPage {
           entityLabel
           title
-          fieldNicknameForThisFacility
         }
       }
     }
diff --git a/src/site/stages/build/drupal/graphql/storyListingPage.graphql.js b/src/site/stages/build/drupal/graphql/storyListingPage.graphql.js
index bc6e316ec3..eae05d4dab 100644
--- a/src/site/stages/build/drupal/graphql/storyListingPage.graphql.js
+++ b/src/site/stages/build/drupal/graphql/storyListingPage.graphql.js
@@ -66,7 +66,6 @@ module.exports = `
         ... on NodeHealthCareRegionPage {
           entityLabel
           title
-          fieldNicknameForThisFacility
         }
       }
     }
diff --git a/src/site/stages/build/process-cms-exports/graphql-cms-export-differences/node.md b/src/site/stages/build/process-cms-exports/graphql-cms-export-differences/node.md
index 98bf809620..446e2bb5e2 100644
--- a/src/site/stages/build/process-cms-exports/graphql-cms-export-differences/node.md
+++ b/src/site/stages/build/process-cms-exports/graphql-cms-export-differences/node.md
@@ -215,7 +215,6 @@ CMS export returned **774** records.
   - `field_media` | Entity reference
   - `field_meta_tags` | Meta tags
   - `field_meta_title` | Text (plain)
-  - `field_nickname_for_this_facility` | Text (plain)
   - `field_operating_status` | Link
   - `field_other_va_locations` | Text (plain)
   - `field_press_release_blurb` | Text (formatted, long)
@@ -253,7 +252,6 @@ CMS export returned **774** records.
   - `field_mental_health_phone` | Telephone number
   - `field_meta_tags` | Meta tags
   - `field_meta_title` | Text (plain)
-  - `field_nickname_for_this_facility` | Text (plain)
   - `field_operating_status_facility` | List (text)
   - `field_operating_status_more_info` | Text (plain, long)
   - `field_phone_number` | Telephone number
@@ -580,7 +578,6 @@ CMS export returned **774** records.
           "value": "https://dev.cms.va.gov/sites/default/files/2019-04/UD%20front.jpg"
         }
       ],
-      "fieldNicknameForThisFacility": "VA Pittsburgh"
     }
   },
   "fieldIntroText": null,
diff --git a/src/site/stages/build/process-cms-exports/schemas/input/node-health_care_local_facility.js b/src/site/stages/build/process-cms-exports/schemas/input/node-health_care_local_facility.js
index b06934f85e..0b190a39d7 100644
--- a/src/site/stages/build/process-cms-exports/schemas/input/node-health_care_local_facility.js
+++ b/src/site/stages/build/process-cms-exports/schemas/input/node-health_care_local_facility.js
@@ -63,7 +63,6 @@ module.exports = {
       maxItems: 1,
     },
     field_mental_health_phone: { $ref: 'GenericNestedString' },
-    field_nickname_for_this_facility: { $ref: 'GenericNestedString' },
     field_operating_status_facility: { $ref: 'GenericNestedString' },
     // maxItems: 0 until we have an example of what this should be
     field_operating_status_more_info: { $ref: 'GenericNestedString' },
@@ -89,7 +88,6 @@ module.exports = {
     'field_main_location',
     'field_media',
     'field_mental_health_phone',
-    'field_nickname_for_this_facility',
     'field_operating_status_facility',
     'field_operating_status_more_info',
     'field_phone_number',
diff --git a/src/site/stages/build/process-cms-exports/schemas/input/node-health_care_region_page.js b/src/site/stages/build/process-cms-exports/schemas/input/node-health_care_region_page.js
index 4ce905e5da..2873fa6b89 100644
--- a/src/site/stages/build/process-cms-exports/schemas/input/node-health_care_region_page.js
+++ b/src/site/stages/build/process-cms-exports/schemas/input/node-health_care_region_page.js
@@ -20,7 +20,6 @@ module.exports = {
     path: { $ref: 'RawPath' },
     metatag: { $ref: 'RawMetaTags' },
     field_intro_text: { $ref: 'GenericNestedString' },
-    field_nickname_for_this_facility: { $ref: 'GenericNestedString' },
     field_link_facility_emerg_list: {
       type: 'array',
       items: {
@@ -53,7 +52,6 @@ module.exports = {
     'field_intro_text',
     // Turns out this sometimes just isn't there
     // 'field_link_facility_emerg_list',
-    'field_nickname_for_this_facility',
     'field_govdelivery_id_emerg',
     'field_govdelivery_id_news',
     'field_operating_status',
diff --git a/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_local_facility.js b/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_local_facility.js
index f888fecf57..579f66f0ea 100644
--- a/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_local_facility.js
+++ b/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_local_facility.js
@@ -45,7 +45,6 @@ module.exports = {
     fieldMainLocation: { type: 'boolean' },
     fieldMedia: { $ref: 'Media' },
     fieldMentalHealthPhone: { type: ['string', 'null'] },
-    fieldNicknameForThisFacility: { type: ['string', 'null'] },
     // Could probably be an enum, but it's not clear what all the possible values are
     fieldOperatingStatusFacility: { type: 'string' },
     // Only found null as an example; not sure what else it's supposed to be
@@ -78,7 +77,6 @@ module.exports = {
     'fieldMainLocation',
     'fieldMedia',
     'fieldMentalHealthPhone',
-    'fieldNicknameForThisFacility',
     'fieldOperatingStatusFacility',
     'fieldOperatingStatusMoreInfo',
     'fieldPhoneNumber',
diff --git a/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_local_health_service.js b/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_local_health_service.js
index fa6c3f19ab..bf95dd83ab 100644
--- a/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_local_health_service.js
+++ b/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_local_health_service.js
@@ -39,7 +39,6 @@ module.exports = {
           items: {
             entity: partialSchema(healthCareLocalFacilitySchema, [
               'entityUrl',
-              'fieldNicknameForThisFacility',
               'title',
             ]),
           },
diff --git a/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_region_page.js b/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_region_page.js
index 4fd01d2606..3ae2b7d484 100644
--- a/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_region_page.js
+++ b/src/site/stages/build/process-cms-exports/schemas/output/node-health_care_region_page.js
@@ -32,7 +32,6 @@ const facilitiesSchema = {
           'changed',
           'fieldOperatingStatusFacility',
           'fieldFacilityLocatorApiId',
-          'fieldNicknameForThisFacility',
           'fieldIntroText',
           'fieldLocationServices',
           'fieldAddress',
@@ -100,7 +99,6 @@ module.exports = {
     fieldGovdeliveryIdNews: { type: 'string' },
     fieldOperatingStatus: socialMediaSchema,
     fieldOtherVaLocations: { type: 'array' },
-    fieldNicknameForThisFacility: { type: ['string', 'null'] },
     fieldLinkFacilityEmergList: {
       type: ['object', 'null'],
       properties: {
@@ -164,7 +162,6 @@ module.exports = {
     'fieldGovdeliveryIdNews',
     'fieldOperatingStatus',
     'fieldOtherVaLocations',
-    'fieldNicknameForThisFacility',
     'fieldLinkFacilityEmergList',
     'reverseFieldRegionPageNode',
     'newsStoryTeasers',
diff --git a/src/site/stages/build/process-cms-exports/schemas/output/node-regional_health_care_service_des.js b/src/site/stages/build/process-cms-exports/schemas/output/node-regional_health_care_service_des.js
index f1ad6d605d..c0a41d0fea 100644
--- a/src/site/stages/build/process-cms-exports/schemas/output/node-regional_health_care_service_des.js
+++ b/src/site/stages/build/process-cms-exports/schemas/output/node-regional_health_care_service_des.js
@@ -16,7 +16,6 @@ module.exports = {
           fieldFacilityLocation: {
             entity: {
               title: { type: 'string' },
-              fieldNicknameForThisFacility: { type: 'string' },
             },
           },
         },
diff --git a/src/site/stages/build/process-cms-exports/transformers/node-health_care_local_facility.js b/src/site/stages/build/process-cms-exports/transformers/node-health_care_local_facility.js
index e70f2260cd..4ede4d0755 100644
--- a/src/site/stages/build/process-cms-exports/transformers/node-health_care_local_facility.js
+++ b/src/site/stages/build/process-cms-exports/transformers/node-health_care_local_facility.js
@@ -65,9 +65,6 @@ const transform = (entity, { ancestors }) => ({
       ? { entity: getImageCrop(entity.fieldMedia[0], '_32MEDIUMTHUMBNAIL') }
       : null,
   fieldMentalHealthPhone: getDrupalValue(entity.fieldMentalHealthPhone),
-  fieldNicknameForThisFacility: getDrupalValue(
-    entity.fieldNicknameForThisFacility,
-  ),
   fieldOperatingStatusFacility: getDrupalValue(
     entity.fieldOperatingStatusFacility,
   ),
@@ -102,7 +99,6 @@ module.exports = {
     'field_main_location',
     'field_media',
     'field_mental_health_phone',
-    'field_nickname_for_this_facility',
     'field_operating_status_facility',
     'field_operating_status_more_info',
     'field_phone_number',
diff --git a/src/site/stages/build/process-cms-exports/transformers/node-health_care_local_health_service.js b/src/site/stages/build/process-cms-exports/transformers/node-health_care_local_health_service.js
index 195c9c60f3..c5b5f961e5 100644
--- a/src/site/stages/build/process-cms-exports/transformers/node-health_care_local_health_service.js
+++ b/src/site/stages/build/process-cms-exports/transformers/node-health_care_local_health_service.js
@@ -1,27 +1,18 @@
 /* eslint-disable camelcase */
 const { getDrupalValue, getWysiwygString } = require('./helpers');
 
-const getFieldFacilityLocationObject = ({
-  title,
-  entityUrl,
-  fieldNicknameForThisFacility,
-  field_nickname_for_this_facility,
-}) =>
+const getFieldFacilityLocationObject = ({ title, entityUrl }) =>
   typeof title === 'object'
     ? {
         entity: {
           title: getDrupalValue(title),
           entityUrl,
-          fieldNicknameForThisFacility: getDrupalValue(
-            field_nickname_for_this_facility,
-          ),
         },
       }
     : {
         entity: {
           title,
           entityUrl,
-          fieldNicknameForThisFacility,
         },
       };
 
diff --git a/src/site/stages/build/process-cms-exports/transformers/node-health_care_region_page.js b/src/site/stages/build/process-cms-exports/transformers/node-health_care_region_page.js
index 93eb860091..db3c203668 100644
--- a/src/site/stages/build/process-cms-exports/transformers/node-health_care_region_page.js
+++ b/src/site/stages/build/process-cms-exports/transformers/node-health_care_region_page.js
@@ -26,7 +26,6 @@ const transform = (
     fieldGovdeliveryIdNews,
     fieldOperatingStatus,
     fieldOtherVaLocations,
-    fieldNicknameForThisFacility,
     fieldRelatedLinks,
     fieldLinkFacilityEmergList,
     reverseFieldRegionPage,
@@ -50,7 +49,6 @@ const transform = (
     fieldMedia && fieldMedia.length
       ? { entity: getImageCrop(fieldMedia[0], '_72MEDIUMTHUMBNAIL') }
       : null,
-  fieldNicknameForThisFacility: getDrupalValue(fieldNicknameForThisFacility),
   fieldLinkFacilityEmergList:
     fieldLinkFacilityEmergList && fieldLinkFacilityEmergList[0]
       ? {
@@ -184,11 +182,6 @@ const transform = (
             reverseField =>
               reverseField.fieldMainLocation && reverseField.entityPublished,
           )
-          .sort((a, b) =>
-            a.fieldNicknameForThisFacility.localeCompare(
-              b.fieldNicknameForThisFacility,
-            ),
-          )
           .map(r => ({
             entityUrl: r.entityUrl,
             entityBundle: r.entityBundle,
@@ -197,7 +190,6 @@ const transform = (
             changed: r.changed,
             fieldOperatingStatusFacility: r.fieldOperatingStatusFacility,
             fieldFacilityLocatorApiId: r.fieldFacilityLocatorApiId,
-            fieldNicknameForThisFacility: r.fieldNicknameForThisFacility,
             fieldIntroText: r.fieldIntroText,
             fieldLocationServices: r.fieldLocationServices,
             fieldAddress: r.fieldAddress,
@@ -217,11 +209,6 @@ const transform = (
             reverseField =>
               !reverseField.fieldMainLocation && reverseField.entityPublished,
           )
-          .sort((a, b) =>
-            a.fieldNicknameForThisFacility.localeCompare(
-              b.fieldNicknameForThisFacility,
-            ),
-          )
           .map(r => ({
             entityUrl: r.entityUrl,
             entityBundle: r.entityBundle,
@@ -230,7 +217,6 @@ const transform = (
             changed: r.changed,
             fieldOperatingStatusFacility: r.fieldOperatingStatusFacility,
             fieldFacilityLocatorApiId: r.fieldFacilityLocatorApiId,
-            fieldNicknameForThisFacility: r.fieldNicknameForThisFacility,
             fieldIntroText: r.fieldIntroText,
             fieldLocationServices: r.fieldLocationServices,
             fieldAddress: r.fieldAddress,
@@ -344,7 +330,6 @@ module.exports = {
     'field_govdelivery_id_news',
     'field_link_facility_emerg_list',
     'field_media',
-    'field_nickname_for_this_facility',
     'field_operating_status',
     'field_other_va_locations',
     'field_press_release_blurb',
diff --git a/src/site/stages/build/process-cms-exports/transformers/node-regional_health_care_service_des.js b/src/site/stages/build/process-cms-exports/transformers/node-regional_health_care_service_des.js
index 16616f5547..a244396628 100644
--- a/src/site/stages/build/process-cms-exports/transformers/node-regional_health_care_service_des.js
+++ b/src/site/stages/build/process-cms-exports/transformers/node-regional_health_care_service_des.js
@@ -15,9 +15,6 @@ const getFieldFacilityLocationObject = ({
             entity: {
               title: getDrupalValue(field_facility_location[0].title),
               entityUrl: field_facility_location[0].entityUrl,
-              fieldNicknameForThisFacility: getDrupalValue(
-                field_facility_location[0].field_nickname_for_this_facility,
-              ),
             },
           },
           entityUrl,
-- 
2.30.0

